<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <meta name="theme-color" content="#3367D6" />
    <title>Générateur de rencontres</title>
</head>

<body>
    <div id="app">
        <v-app v-cloak>

            <!-- TOP APP BAR -->
            <v-app-bar app color="primary">
                <v-toolbar-title class="white--text">Générateur de rencontres</v-toolbar-title>
            </v-app-bar>

            <!-- MAIN CONTENT -->
            <v-main class="ma-6 mt-12">
                <v-row class="ma-6" align="center">
                    <v-col>
                        <v-range-slider color="primary" track-color="secondary" thumb-label="always" persistent-hint
                            hint="Niveau de FP" v-model="FP_range" max="33" min="0" step=1>
                            <template v-slot:thumb-label="{ value }">
                                {{values[value]}}
                            </template>
                        </v-range-slider>
                    </v-col>
                    <v-col>
                        <v-select v-model="al1" :items="align1" label="Morale"></v-select>
                        <v-select v-model="al2" :items="align2" label="Éthique"></v-select>
                    </v-col>
                    <v-col>
                        <v-text-field v-model="number" label="Nombre de monstres"></v-text-field>
                    </v-col>
                    <v-col>
                        <v-btn color="primary" @click="generate_rencontre()">Generate</v-btn>
                    </v-col>
                </v-row>
                <v-row class="ma-3">
                    <div class="text-h5 text-center">https://my-servo.herokuapp.com{{url}}</div>
                </v-row>
                <v-row v-if="!nothing">
                    <v-col v-for="monster of monsters" :key="monster.key">
                        <v-card max-width="400" class="pa-3">
                            <v-img contain max-height="400" v-if='monster.img_url != ""' :src="monster.img_url"></v-img>
                            <div class="text-h6 text-center">
                                {{monster.nom}} {{monster.key+1}}
                            </div>
                            <div class="text-caption mb-3 text-center">
                                ({{monster.type}}, {{monster.taille}})
                            </div>
                            <div class="mx-4">
                                <div class="text-body-2">
                                    PV: {{monster.pv_details}}
                                </div>
                                <div class="text-body-2">
                                    CA: {{monster.CA}}
                                </div>
                                <div class="text-body-2">
                                    alignement: {{monster.alignement}}
                                </div>
                                <div class="text-body-2">
                                    {{monster.vitesse_details}}
                                </div>
                            </div>


                            <v-simple-table>
                                <template v-slot:default>
                                    <thead>
                                        <tr>
                                            <th class="text-left">
                                                FOR
                                            </th>
                                            <th class="text-left">
                                                DEX
                                            </th>
                                            <th class="text-left">
                                                CON
                                            </th>
                                            <th class="text-left">
                                                INT
                                            </th>
                                            <th class="text-left">
                                                SAG
                                            </th>
                                            <th class="text-left">
                                                CHA
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>{{ monster.caracs.FOR }}</td>
                                            <td>{{ monster.caracs.DEX }}</td>
                                            <td>{{ monster.caracs.CON }}</td>
                                            <td>{{ monster.caracs.INT }}</td>
                                            <td>{{ monster.caracs.SAG }}</td>
                                            <td>{{ monster.caracs.CHA }}</td>
                                        </tr>
                                    </tbody>
                                </template>
                            </v-simple-table>

                            <v-card-actions>
                                <v-btn color="orange lighten-2" text>
                                    Détails
                                </v-btn>

                                <v-spacer></v-spacer>

                                <v-btn icon @click="monster.show = !monster.show ">
                                    <v-icon>{{monster.show ? 'mdi-chevron-up' : 'mdi-chevron-down' }}</v-icon>
                                </v-btn>
                            </v-card-actions>

                            <v-expand-transition>
                                <div v-show="monster.show">
                                    <v-divider></v-divider>

                                    <v-card-text>
                                        <div class="text-h6">
                                            Attributs
                                        </div>
                                        <v-divider></v-divider>
                                        <div>
                                            {{monster.attributs}}
                                        </div>
                                        <v-divider></v-divider>
                                        <div class="text-h6">
                                            Actions
                                        </div>
                                        <template v-for="action of monster.actions">
                                            <v-divider></v-divider>
                                            <div>
                                                {{action}}
                                            </div>
                                        </template>

                                    </v-card-text>
                                </div>
                            </v-expand-transition>
                        </v-card>
                    </v-col>
                </v-row>
                <v-row v-else>
                    No monsters found
                </v-row>

            </v-main>
        </v-app>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
    <script src="app.js"></script>

</body>

</html>